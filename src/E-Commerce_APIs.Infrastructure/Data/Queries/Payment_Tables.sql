CREATE TABLE Payment_Status(
id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
status VARCHAR(255)
);

CREATE TABLE Payment (
    id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    user_id UUID NOT NULL,
    amount DECIMAL(10,2) NOT NULL,
    provider VARCHAR(100) NOT NULL,
    status_id INT NOT NULL,
    order_id INT NOT NULL UNIQUE,
    creation_date TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    modified_date TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    slug VARCHAR(255),
    FOREIGN KEY (user_id) REFERENCES "User"(id) ON DELETE CASCADE,
    FOREIGN KEY (status_id) REFERENCES Payment_Status(id),
    FOREIGN KEY (order_id) REFERENCES "Order"(id) ON DELETE CASCADE,
    CHECK (amount > 0)
);